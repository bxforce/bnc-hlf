
# Description

The BNC tool will use the default configured folder (provided in the deployment input configuration file) as the main the folder for the tool.
Under this default root folder, the BNC tool will create different sub-folder as follow:

```
$ROOT_FOLDER
│───artifacts:
│───settings:
│───docker-compose: 
│───fabric-binaries:
│   │   fabric-ca:
│───organizations:
│   │   fabric-ca:
│   │   ordererOrganizations:
│   │   peerOrganizations:
│───wallet
│   │   organizations: 
```

# BNC command description:

```
Usage: bnc [options] [command]

Options:
  -V, --version                      output the version number
  -h, --help                         display help for command

Commands:
  init [options]                     Create genesis.block and configtx files for channel and anchor update
  enroll-orderers [options]          Create crypto material for the orderers
  enroll-peers [options]             Create crypto material for the peers
  download [options]                 Download binaries
  generate [options]                 Create crypto material, genesis.block and configtx files
  start [options]                    Create/Start network
  stop [options]                     Stop the blockchain
  rm [options]                       Remove all BNC containers and related volumes and the dev peer images
  run [options]                      Start the default network with single organization
  channel                            Manage create/join/update channel
  chaincode                          Manage deployment of chaincode
  generate-org-definition [options]  Generate new org definiton to be added to channel
  generate-new-genesis [options]     Generate new genesis to bootstrap new orderer
  help [command]                     display help for command

```


BNC takes as input 4 type of files:

    * config-deploy.yaml: This input file contains the description of the organization itself. It is used to start orderers/peers containers.
    
    * config-genesis.yaml: This input file contains the description of the initial consortium organizations. It is used to generate the genesis block and the channel definition.
    
    * config-hosts.yaml: This file is used to interconnect containers of different organizations between each other.
    
    * config-chaincode.yaml: This input file is used each time a chaincode is deployed using BNC. It contains the chaincode configuration (e.g. path to chaincode/ name/ version/ target peers)


## Template config-genesis.yaml

* genesis:
    * template_folder: the folder where you will find the generated crypto material and the files generated by BNC(genesis.pb, channel.tx ..)
    * channel: name of the channel to create with the provided orgs
    * organizations: 
        * organization: name of the org
        * domain_name:  domain name of the org
        * orderers:
            * orderer: name of the orderer
            * host_name: name orderer + domain name
            * port: port of orderer
        * anchorPeer:
            * host_name: name of the peer
            * port: port of the anchor peer
            
## Template config-deploy.yaml
            
* chains
    * template_folder: folder containing all generated files by BNC
    * fabric: Currently BNC supports only 2.2.1
    * tls: true
    * db: "couchdb"
    * organisations:
        * organization: name of the  organization
        * domain_name: domain name of the org
        * ca: 
            * name: name of the ca
            * port: port of the CA
            * engine: where the CA is hosted
        * ca_orderer: this is optional section if provided you have a seperate cs running for orderers
            * name: name of the ca exp "ca.orderer1"
            * url : url  of the ca_orderer exp "ca.orderer1"
            * port: port of the ca_orderer
        * orderers: contains all the orderers running in
            * orderer: name of orderer
            * port: port of orderer
            * engine: host where orderer is running
        * peers: contains all the peers running in this org
            * peer: name of peer
            * port: port of peer
            * engine: host where peer is running

## Template config-hosts.yaml

* hosts:
    * host1: name of host
        * ip: ip of the host
        * targets: all target peers/orderers/ca
    
## Template config-chaincode.yaml
    
* chaincode:
     * template_folder
     * root_path_chaincode: 
     * path_chaincode: name of the exact chaincode folder that contains the .go file
     * lang_chaincode: language of chaincode
     * channel: name of channel
     * chaincode: name of the chaincode
     * version: verion of chaincode
     * endorsementPolicy: optional :endorsement policy, by default it is the majority, this field wont be taken into account unless you provide flag --policy
     * commit
        * organisation: name of org to which we will send commit tx
        * domain_name: domain name of org
        * peers: peers to target when committing the tx
            * peer: name peer
            * host_name: host of peer
            * port: port of peer

## remind max to remove all  branches

## change all the curls and change improve-docs by master
